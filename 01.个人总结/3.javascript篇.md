# 数据类型

## JavaScript有哪些数据类型，它们的区别？

基本类型

1. Number
2. String
3. Boolean
4. null
5. undefined
6. Symbol
7. BigInt

引用类型

## 数据类型检测的方式有哪些

1. typeof

```js
console.log(typeof 1);//number
console.log(typeof "1");//string
console.log(typeof undefined);//undefined(!)
console.log(typeof null);//object
console.log(typeof false);//boolean
console.log(typeof function a() {
});//function

```

2. instanceof

```js
console.log([1, 2, 3] instanceof Array);//true;
console.log([1, 2, 3] instanceof Object);//true;
console.log({a: 1, b: 2} instanceof Array);//false;
console.log({a: 1, b: 2} instanceof Object);//true;
console.log(2 instanceof Number);//false
console.log(true instanceof Boolean);// false 
console.log('str' instanceof String);// false
console.log([] instanceof Array);// true
console.log(function () {
} instanceof Function)// true
console.log({} instanceof Object);// true
```

> instanceof 只能判断引用类型 不能判断原始类型

3. constructor

```js
console.log("str".constructor === String);//true
let num = 2
console.log(num.constructor === Number);//true
function foo() {

}

console.log(foo.constructor === Function);//true
console.log({}.constructor === Object);//true
console.log([].constructor === Array);//true
console.log([].constructor === Object);//false
```

4. Object.prototype.toString.call()

```js
let a = Object.prototype.toString;
console.log(a.call(2));//[object Number]
console.log(a.call(true));//[object Boolean]
console.log(a.call('str'));//[object String]
console.log(a.call([]));//[object Array]
console.log(a.call(function () {
}));//[object Function]
console.log(a.call({}));//[object Object]
console.log(a.call(undefined));//[object Undefined]
console.log(a.call(null));//[object Null]
```

## 判断数组的方式有哪些

1. Array.isArray(arr)

```js
let arr = [1, 2, 3];
console.log(Array.isArray(arr));//true
```

2. Object.prototype.toString.call(arr)

```js
let arr = [1, 2, 3];
console.log(Object.prototype.toString.call(arr));//[object Array]
```

3. arr.constructor == Array

```js
let arr = [1, 2, 3];
console.log(arr.constructor == Array);//true
```

4. arr.__proto__ == Array.prototype

```js
let arr = [1, 2, 3];
console.log(arr.__proto__ == Array.prototype);//true
```

5. arr instanceof Array (!improtant)

```js
let arr = [1, 2, 3];
console.log(arr instanceof Array);//true
```

## 为什么0.1+0.2 ! == 0.3，如何让其相等

1. 精度问题

2. 解决: num.toFixed(2)

## isNaN 和 Number.isNaN 函数的区别？

1. isNaN 先转换 再判断是否是NaN
2. Number.isNaN 先判断是不是number 再判断是不是NaN(更准确)

## 如何判断一个对象是空对象

1. JSON.stringify(obj) === '{}'

```js
let obj = {};
console.log(JSON.stringify(obj) === '{}');//true
```

2.Object.keys(obj).length <= 0

```js
let obj = {};
console.log(Object.keys(obj).length <= 0);//true
```

# ES6

## let、const、var的区别

1. let const 存在块作用域 var 不存在
2. let const 不存在变量提升 var存在变量提升
3. let const 不能重复定义 var可以重复定义
4. let const 定义的变量不存在全局window/global里, var定义的变量存在widow/global里
5. const定义的变量不能更改(非绝对),且必须赋予初始值 let var 定义的变量可以更改

# JavaScript基础

## new操作符的实现原理

1. 创建一个新的对象
2. 设置该对象的原型指向prototype
3. 让函数的this指向该对象,执行构造代码(添加值)
4. 判断函数的返回值类型，如果是值类型，返回创建的对象。如果是引用类型，就返回这个引用类型的对象。

## map和Object的区别

1. map一般无多余的键,object有隐式的键
2. map有序,object无序
3. map可以直接for of遍历,object不可以,需要自定义配置
4. map的键可以是任意类型,object只能是string/symbol
5. map有size方法,object需要手动计算
